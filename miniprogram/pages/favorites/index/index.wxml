<!--pages/favorites/index/index.wxml-->
<view class="container">
  <!-- 头部 -->
  <view class="header">
    <text class="title">我的收藏</text>
    <text class="count">共 {{list.length}} 个菜品</text>
  </view>

  <!-- 收藏列表 -->
  <view class="favorite-list" wx:if="{{list.length > 0}}">
    <view class="favorite-item" wx:for="{{list}}" wx:key="_id" wx:if="{{item.menu_item}}">
      <image
        class="item-image"
        src="{{item.menu_item.image_url || defaultImage}}"
        mode="aspectFill"
      />
      <view class="item-info">
        <text class="item-name">{{item.menu_item.name}}</text>
        <text class="item-price">¥{{item.menu_item.price / 100}}</text>
        <text class="item-desc">{{item.menu_item.description || '暂无描述'}}</text>
      </view>
      <view class="item-actions">
        <view class="action-btn add" bindtap="addToOrder" data-item="{{item.menu_item}}">+点餐</view>
        <view class="action-btn remove" bindtap="removeFavorite" data-id="{{item.menu_item_id}}">取消收藏</view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty-state" wx:if="{{list.length === 0 && !loading}}">
    <text class="empty-icon">❤️</text>
    <text class="empty-text">暂无收藏</text>
    <text class="empty-hint">收藏喜欢的菜品，快速点餐</text>
    <view class="go-menu-btn" bindtap="goToMenu">去菜单看看</view>
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">加载中...</view>
</view>
